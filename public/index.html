<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hivemind - P2P Neural Network Swarm</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="background-animation"></div>

  <div class="container">
    <header>
      <h1>🐝 Hivemind</h1>
      <p>Distributed Neural Network Inference via P2P WebGPU</p>
    </header>

    <div class="main-grid">
      <div class="left-panel">
        <div class="card status-card">
          <h3>⚡ System Status</h3>
          <div class="status-grid">
            <div class="status-item">
              <span class="status-label">WebGPU</span>
              <span id="webgpu-status" class="status-value status-checking">Checking...</span>
            </div>
            <div class="status-item">
              <span class="status-label">Peer ID</span>
              <span id="peer-id" class="status-value">-</span>
            </div>
            <div class="status-item">
              <span class="status-label">Connected Peers</span>
              <span id="peer-count" class="status-value status-highlight">0</span>
            </div>
            <div class="status-item">
              <span class="status-label">GPU Status</span>
              <span id="compute-status" class="status-value">Idle</span>
            </div>
            <div class="status-item">
              <span class="status-label">Tasks Processed</span>
              <span id="tasks-processed" class="status-value status-highlight">0</span>
            </div>
            <div class="status-item">
              <span class="status-label">Network Speed</span>
              <span id="network-speed" class="status-value">-</span>
            </div>
          </div>
        </div>

        <div class="card control-card">
          <h3>🎮 Controls</h3>
          <div class="control-buttons">
            <button id="connect-btn" class="btn btn-primary btn-large">
              <span class="btn-icon">🔌</span>
              <span>Join Swarm</span>
            </button>
            <button id="disconnect-btn" class="btn btn-danger btn-large" disabled>
              <span class="btn-icon">🔴</span>
              <span>Leave Swarm</span>
            </button>
          </div>
          <div class="control-buttons">
            <button id="run-task-btn" class="btn btn-success" disabled>
              <span class="btn-icon">🧠</span>
              <span>Run Neural Network Inference</span>
            </button>
          </div>
        </div>

        <div class="card info-card">
          <h3>ℹ️ About</h3>
          <p>Hivemind connects browsers in a peer-to-peer network to share GPU compute power for neural network inference tasks.</p>
          <p><strong>How it works:</strong></p>
          <ul>
            <li>Each browser contributes GPU compute via WebGPU</li>
            <li>Neural network inference tasks are distributed across the swarm</li>
            <li>Results are aggregated in real-time</li>
            <li>All communication is P2P (no centralized compute)</li>
          </ul>
          <p class="tip">💡 Open this page in multiple tabs or devices to form a swarm!</p>
        </div>
      </div>

      <div class="right-panel">
        <div class="card peers-card">
          <h3>🌐 Swarm Nodes</h3>
          <div id="peers-list" class="peers-list">
            <div class="empty-state">
              <div class="empty-icon">🔍</div>
              <p>No peers connected</p>
              <p class="empty-hint">Join the swarm to discover peers</p>
            </div>
          </div>
        </div>

        <div class="card log-card">
          <h3>📋 Activity Log</h3>
          <div id="log" class="log"></div>
        </div>

        <div class="card stats-card">
          <h3>📊 Performance Stats</h3>
          <div class="stats-grid">
            <div class="stat-item">
              <span class="stat-label">Avg Inference Time</span>
              <span id="avg-inference-time" class="stat-value">-</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Total Throughput</span>
              <span id="total-throughput" class="stat-value">-</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">GPU Utilization</span>
              <span id="gpu-utilization" class="stat-value">0%</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Swarm Efficiency</span>
              <span id="swarm-efficiency" class="stat-value">-</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="webgpu-compute.js"></script>
  <script src="p2p-network.js"></script>
  <script src="app.js"></script>
</body>
</html>
